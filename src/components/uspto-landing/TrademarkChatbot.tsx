import React, { useState } from 'react';
import { MessageCircle, X, Minimize2 } from 'lucide-react';

const TrademarkChatbot: React.FC = () => {
  const [isOpen, setIsOpen] = useState(false);
  const [isMinimized, setIsMinimized] = useState(false);

  const toggleChat = () => {
    if (isOpen) {
      setIsOpen(false);
      setIsMinimized(false);
    } else {
      setIsOpen(true);
      setIsMinimized(false);
    }
  };

  const minimizeChat = () => {
    setIsMinimized(true);
  };

  const restoreChat = () => {
    setIsMinimized(false);
  };

  return (
    <>
      {/* Floating Action Button */}
      {!isOpen && (
        <div 
          onClick={toggleChat}
          className="fixed bottom-6 right-6 z-50 bg-primary hover:bg-primary/90 text-primary-foreground rounded-full p-4 shadow-xl cursor-pointer hover:shadow-2xl transition-all duration-300 hover:scale-110 animate-pulse"
        >
          <MessageCircle className="h-6 w-6" />
          <div className="absolute -top-1 -right-1 bg-accent text-accent-foreground text-xs rounded-full w-6 h-6 flex items-center justify-center animate-bounce font-semibold">
            AI
          </div>
        </div>
      )}

      {/* Chat Widget */}
      {isOpen && (
        <div 
          className={`fixed z-50 transition-all duration-300 ${
            isMinimized 
              ? 'bottom-6 right-6 w-80 h-16' 
              : 'bottom-4 right-4 w-80 h-[500px] sm:w-96 sm:h-[600px] lg:w-[420px] lg:h-[650px]'
          }`}
        >
          <div className="bg-white border border-gray-200 rounded-2xl shadow-2xl overflow-hidden h-full flex flex-col">
            {/* Chat Header */}
            <div className="bg-primary text-primary-foreground p-4 flex items-center justify-between">
              <div className="flex items-center space-x-3">
                <div className="w-8 h-8 bg-primary-foreground/20 rounded-full flex items-center justify-center">
                  <MessageCircle className="h-4 w-4" />
                </div>
                <div>
                  <h3 className="font-semibold text-sm">AI Trademark Assistant</h3>
                  <p className="text-xs text-primary-foreground/80">Smart trademark renewal help</p>
                </div>
              </div>
              <div className="flex items-center space-x-2">
                <button
                  onClick={minimizeChat}
                  className="text-primary-foreground/80 hover:text-primary-foreground transition-colors p-1 hover:bg-primary-foreground/10 rounded"
                >
                  <Minimize2 className="h-4 w-4" />
                </button>
                <button
                  onClick={toggleChat}
                  className="text-primary-foreground/80 hover:text-primary-foreground transition-colors p-1 hover:bg-primary-foreground/10 rounded"
                >
                  <X className="h-4 w-4" />
                </button>
              </div>
            </div>

            {/* Minimized State */}
            {isMinimized && (
              <div 
                onClick={restoreChat}
                className="flex items-center justify-center h-full cursor-pointer hover:bg-muted/50 transition-colors"
              >
                <span className="text-sm text-muted-foreground">Click to restore chat</span>
              </div>
            )}

            {/* Full Chat Interface */}
            {!isMinimized && (
              <iframe
                src="data:text/html;charset=utf-8,%3C%21DOCTYPE%20html%3E%0A%3Chtml%20lang%3D%22en%22%3E%0A%3Chead%3E%0A%20%20%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%22%3E%0A%20%20%20%20%3Ctitle%3EAI%20Trademark%20Renewal%20Assistant%3C/title%3E%0A%20%20%20%20%3Cstyle%3E%0A%20%20%20%20%20%20%20%20%2A%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20box-sizing%3A%20border-box%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20body%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20-apple-system%2C%20BlinkMacSystemFont%2C%20%27Segoe%20UI%27%2C%20Roboto%2C%20sans-serif%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100vh%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-messages%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow-y%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2020px%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-direction%3A%20column%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20animation%3A%20fadeInUp%200.3s%20ease-out%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%201.4%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message.user%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-direction%3A%20row-reverse%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-avatar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2032px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2032px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-weight%3A%20600%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.ai-avatar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20hsl%28221.2%2083.2%25%2053.3%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.user-avatar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20hsl%28142.1%2076.2%25%2036.3%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-content%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%2085%25%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-bubble%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2018px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%204px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.ai-message%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20hsl%28210%2040%25%2098%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20hsl%28222.2%2084%25%204.9%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20hsl%28214.3%2031.8%25%2091.4%25%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.user-message%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20hsl%28221.2%2083.2%25%2053.3%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-left%3A%20auto%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.message-time%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2011px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20hsl%28215.4%2016.3%25%2046.9%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20right%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-top%3A%204px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.user%20.message-time%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20left%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/%2A%20Input%20area%20%2A/%0A%20%20%20%20%20%20%20%20.input-area%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-top%3A%201px%20solid%20hsl%28214.3%2031.8%25%2091.4%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20white%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.quick-actions%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-wrap%3A%20wrap%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.quick-action%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%206px%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20hsl%28210%2040%25%2098%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%201px%20solid%20hsl%28214.3%2031.8%25%2091.4%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2012px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20all%200.2s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.quick-action%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20hsl%28221.2%2083.2%25%2053.3%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20hsl%28221.2%2083.2%25%2053.3%25%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.input-container%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20gap%3A%208px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20flex-end%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.input-field%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20flex%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%2016px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20hsl%28214.3%2031.8%25%2091.4%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2020px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20resize%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20outline%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20border-color%200.2s%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20max-height%3A%2080px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20min-height%3A%2044px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.input-field%3Afocus%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-color%3A%20hsl%28221.2%2083.2%25%2053.3%25%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.send-button%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%2044px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%2044px%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20hsl%28221.2%2083.2%25%2053.3%25%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%20none%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%2050%25%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20transform%200.2s%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.send-button%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20scale%281.05%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20hsl%28221.2%2083.2%25%2048%25%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20%40keyframes%20fadeInUp%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20from%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%200%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateY%2815px%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%20%20%20%20to%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20opacity%3A%201%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20transform%3A%20translateY%280%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20/%2A%20Scrollbar%20styling%20%2A/%0A%20%20%20%20%20%20%20%20.chat-messages%3A%3A-webkit-scrollbar%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%206px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-messages%3A%3A-webkit-scrollbar-track%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20transparent%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-messages%3A%3A-webkit-scrollbar-thumb%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20hsl%28215.4%2016.3%25%2046.9%25%20/%200.3%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%203px%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20.chat-messages%3A%3A-webkit-scrollbar-thumb%3Ahover%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20hsl%28215.4%2016.3%25%2046.9%25%20/%200.5%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%3C/style%3E%0A%3C/head%3E%0A%3Cbody%3E%0A%20%20%20%20%3Cdiv%20class%3D%22chat-messages%22%20id%3D%22chatMessages%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-avatar%20ai-avatar%22%3EAI%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-content%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-bubble%20ai-message%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Hi%21%20I%27m%20your%20AI%20trademark%20renewal%20assistant.%20I%20help%20businesses%20renew%20their%20trademarks%20with%20intelligent%20research%20and%20strategic%20guidance.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cbr%3E%3Cbr%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20To%20get%20started%2C%20please%20provide%20your%20trademark%20registration%20number%20%28usually%207-8%20digits%29.%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-time%22%3EJust%20now%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%20%20%20%0A%20%20%20%20%3Cdiv%20class%3D%22input-area%22%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22quick-actions%22%20id%3D%22quickActions%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22quick-action%22%20onclick%3D%22sendQuickAction%28%275776989%27%29%22%3ETry%3A%205776989%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22quick-action%22%20onclick%3D%22sendQuickAction%28%271234567%27%29%22%3ETry%3A%201234567%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22quick-action%22%20onclick%3D%22sendQuickAction%28%27Help%20me%20find%20my%20registration%20number%27%29%22%3EFind%20my%20number%3C/div%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22input-container%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Ctextarea%20class%3D%22input-field%22%20id%3D%22messageInput%22%20placeholder%3D%22Enter%20your%20trademark%20registration%20number%20%28e.g.%2C%205776989%29...%22%20rows%3D%221%22%3E%3C/textarea%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20class%3D%22send-button%22%20id%3D%22sendButton%22%20onclick%3D%22sendMessage%28%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Csvg%20width%3D%2218%22%20height%3D%2218%22%20viewBox%3D%220%200%2024%2024%22%20fill%3D%22currentColor%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M2.01%2021L23%2012%202.01%203%202%2010l15%202-15%202z%22/%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/svg%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cscript%3E%0A%20%20%20%20%20%20%20%20let%20isProcessing%20%3D%20false%3B%0A%0A%20%20%20%20%20%20%20%20function%20sendMessage%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isProcessing%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20input%20%3D%20document.getElementById%28%27messageInput%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20message%20%3D%20input.value.trim%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21message%29%20return%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20addUserMessage%28message%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20input.value%20%3D%20%27%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20input.style.height%20%3D%20%2744px%27%3B%20//%20Reset%20height%0A%20%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20isProcessing%20%3D%20true%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20addAIMessage%28%27Thanks%20for%20your%20message%21%20This%20is%20a%20demo%20version.%20In%20the%20full%20implementation%2C%20I%20would%20process%20your%20trademark%20registration%20number%20and%20provide%20comprehensive%20renewal%20assistance%20with%20deadline%20tracking%2C%20risk%20assessment%2C%20and%20filing%20preparation.%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20isProcessing%20%3D%20false%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20800%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20sendQuickAction%28message%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20document.getElementById%28%27messageInput%27%29.value%20%3D%20message%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20sendMessage%28%29%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20addUserMessage%28message%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20chatMessages%20%3D%20document.getElementById%28%27chatMessages%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20messageDiv%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20messageDiv.className%20%3D%20%27message%20user%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20messageDiv.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-avatar%20user-avatar%22%3EU%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-content%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-bubble%20user-message%22%3E%24%7Bmessage%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-time%22%3EJust%20now%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20chatMessages.appendChild%28messageDiv%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20chatMessages.scrollTop%20%3D%20chatMessages.scrollHeight%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20function%20addAIMessage%28message%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20chatMessages%20%3D%20document.getElementById%28%27chatMessages%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20messageDiv%20%3D%20document.createElement%28%27div%27%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20messageDiv.className%20%3D%20%27message%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20messageDiv.innerHTML%20%3D%20%60%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-avatar%20ai-avatar%22%3EAI%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-content%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-bubble%20ai-message%22%3E%24%7Bmessage%7D%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Cdiv%20class%3D%22message-time%22%3EJust%20now%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%60%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20chatMessages.appendChild%28messageDiv%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20chatMessages.scrollTop%20%3D%20chatMessages.scrollHeight%3B%0A%20%20%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20%20%20//%20Input%20handlers%0A%20%20%20%20%20%20%20%20document.getElementById%28%27messageInput%27%29.addEventListener%28%27keypress%27%2C%20function%28e%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.key%20%3D%3D%3D%20%27Enter%27%20%26%26%20%21e.shiftKey%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.preventDefault%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sendMessage%28%29%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%0A%20%20%20%20%20%20%20%20//%20Auto-resize%20textarea%0A%20%20%20%20%20%20%20%20document.getElementById%28%27messageInput%27%29.addEventListener%28%27input%27%2C%20function%28%29%20%7B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.style.height%20%3D%20%2744px%27%3B%0A%20%20%20%20%20%20%20%20%20%20%20%20this.style.height%20%3D%20Math.min%28this.scrollHeight%2C%2080%29%20%2B%20%27px%27%3B%0A%20%20%20%20%20%20%20%20%7D%29%3B%0A%20%20%20%20%3C/script%3E%0A%3C/body%3E%0A%3C/html%3E"
                className="w-full h-full border-none"
                title="AI Trademark Renewal Assistant"
              />
            )}
          </div>
        </div>
      )}
    </>
  );
};

export default TrademarkChatbot;